---
title: "Employee Characteristics"
format:
  html:
    fig-width: 8
    fig-height: 6
---


::: {.callout-important collapse="true"}
## Additional Analysis: Deteremining of correlations changed over time

For sake of time, I did not dig into whether or not the characteristics of the employees changed over time for those who left as well as drill into the type of termination.

Another interest factor might be:
* Time in current position

:::

We are using the HRIS data to gain a deeper understanding into what characteristics of the employees might be strong correlations to whether or not an employee is terminated. 

```{r, char-init}
#| echo: false
#| warning: false
#| error: false
library(tidyverse)
source(here::here("src", "_initial_settings.R"))
```

I have grouped the employee characteristics into 3 main themes. 

* Deomgraphics: 
  * Gender
  * Race
* Role Details:
  * Exempt vs Non-Exempt
  * Job Level
  * Department
  * Location
* Performance: 
  * Employee Performance
  * Most Recent Merit
  * Compensation


# Analysis Overview

::: panel-tabset
## Correlation Funnel: Stay or leave

From this, it looks like the biggest correlation between a employee leaving or not is based on their most recent performance rating. Outside of that, the other factors don't look to be strongly correlated.

```{r}
#| echo: false
#| warning: false
#| error: false
#| fig-height: 5
#| fig-align: center

load(here::here("img","corr_funnel_term.Rdata"))

cf + 
  theme(
    panel.background = element_rect(fill = "#F8F5F5"),
    plot.background = element_rect(fill = "#F8F5F5"),
    legend.background = element_rect(fill = "#F8F5F5"),
    legend.key = element_rect(fill = "#F8F5F5", color = "darkgrey")
  )

```



## Correlation Funnel: Voluntary or Involuntary

Again the performance rating seems to be more correlated to the type of termination (voluntary vs involuntary) 

* Being rated a 1 or 2 are more correlated to involuntary termination
* Employees who exited, who were rated a 3 or 4 tended to be the voluntary terminations 

```{r}
#| echo: false
#| warning: false
#| error: false
#| fig-height: 5
#| fig-align: center

load(here::here("img","corr_funnel_term_type.Rdata"))

cf_tt + 
  theme(
    panel.background = element_rect(fill = "#F8F5F5"),
    plot.background = element_rect(fill = "#F8F5F5"),
    legend.background = element_rect(fill = "#F8F5F5"),
    legend.key = element_rect(fill = "#F8F5F5", color = "darkgrey")
  )
```

## Notes

The correlation funnel comes from the correlationfunnel R package. It essentially performs One Hot Encoding for categorical variables or bins numeric (and then performs One Hot Encoding off those bins).
From those variables, it then performs a correlation using the Pearson method

:::